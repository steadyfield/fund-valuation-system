import json
import random
from datetime import datetime

# åŸºé‡‘åˆ—è¡¨
FUNDS = {
	# === Aè‚¡ä¸»åŠ¨ ===
	"018957": "ä¸­èˆªæœºé‡é¢†èˆªæ··åˆC",
	"002112": "å¾·é‚¦é‘«æ˜Ÿä»·å€¼çµæ´»é…ç½®æ··åˆC",
	"016371": "ä¿¡æ¾³ä¸šç»©é©±åŠ¨æ··åˆC",
	"019432": "æ°¸èµ¢ç¿ä¿¡æ··åˆC",
	"016858": "å›½é‡‘é‡åŒ–å¤šå› å­è‚¡ç¥¨C",
	"002834": "åå¤é”¦ç»£çµæ´»é…ç½®æ··åˆC",
	"021526": "å—åä¸°æ±‡æ··åˆC",
	"015868": "å›½æ³°æµ·é€šä¸­è¯1000æŒ‡æ•°å¢å¼ºC",
	"008319": "åšé“ä¹…èˆªæ··åˆC",
	"007950": "æ‹›å•†é‡åŒ–ç²¾é€‰è‚¡ç¥¨C",
	"017874": "å›½é‡‘é‡åŒ–å¤šç­–ç•¥çµæ´»é…ç½®æ··åˆC",
	"016491": "åå®‰äº‹ä»¶é©±åŠ¨é‡åŒ–ç­–ç•¥æ··åˆC",
	"017493": "ä¸œæ–¹çº¢æ–°åŠ¨åŠ›çµæ´»é…ç½®æ··åˆC",
	"501060": "ä¸­é‡‘ä¸­è¯ä¼˜é€‰300æŒ‡æ•°(LOF)A",
	
	# === Aè‚¡æŒ‡æ•° ===
	"020341": "å·¥é“¶ç‘ä¿¡é»„é‡‘ETFè”æ¥E",
	"021375": "ä¸­æ¬§ä¸­è¯çº¢åˆ©ä½æ³¢åŠ¨100æŒ‡æ•°A",
	"008163": "å—æ–¹çº¢åˆ©ä½æ³¢50ETFè”æ¥A",
	"007467": "åæ³°æŸç‘ä¸­è¯çº¢åˆ©ä½æ³¢åŠ¨ETFè”æ¥C",
	"024117": "ä¸­æ¬§å›½è¯è‡ªç”±ç°é‡‘æµæŒ‡æ•°A",
	"023919": "å›½æ³°å¯Œæ—¶ç°é‡‘æµETFè”æ¥A",
    
    # === QDIIæµ·å¤– ===
	"012922": "æ˜“æ–¹è¾¾å…¨çƒæˆé•¿ç²¾é€‰æ··åˆ(QDII)C",
	"017731": "å˜‰å®å…¨çƒäº§ä¸šå‡çº§è‚¡ç¥¨(QDII)C",
	"018147": "å»ºä¿¡æ–°å…´å¸‚åœºä¼˜é€‰æ··åˆ(QDII)C",
	"016668": "æ™¯é¡ºé•¿åŸå…¨çƒåŠå¯¼ä½“èŠ¯ç‰‡äº§ä¸šè‚¡ç¥¨(QDII-FOF-LOF)C",
	"018230": "æ˜“æ–¹è¾¾å…¨çƒä¼˜é€‰ä¼ä¸šæ··åˆ(QDII)C",
	"021842": "å›½å¯Œå…¨çƒç§‘æŠ€äº’è”æ··åˆ(QDII)C",
	"014002": "æµ¦é“¶å®‰ç››å…¨çƒæ™ºèƒ½ç§‘æŠ€è‚¡ç¥¨(QDII)C",
	"019118": "æ™¯é¡ºé•¿åŸçº³æ–¯è¾¾å…‹ç§‘æŠ€å¸‚å€¼åŠ æƒETFè”æ¥(QDII)E",
	"012868": "æ˜“æ–¹è¾¾æ ‡æ™®ä¿¡æ¯ç§‘æŠ€æŒ‡æ•°(QDII-LOF)C",
	"019172": "æ‘©æ ¹çº³æ–¯è¾¾å…‹100æŒ‡æ•°(QDII)A",
	"016452": "å—æ–¹çº³æ–¯è¾¾å…‹100æŒ‡æ•°(QDII)A",
	"019736": "å®ç›ˆçº³æ–¯è¾¾å…‹100æŒ‡æ•°(QDII)A",
	"019305": "æ‘©æ ¹æ ‡æ™®500æŒ‡æ•°(QDII)C",
	"012860": "æ˜“æ–¹è¾¾æ ‡æ™®500æŒ‡æ•°(QDII-LOF)C",
	"006075": "åšæ—¶æ ‡æ™®500ETFè”æ¥(QDII)C",
	
	# === Aè‚¡åå€ºæ··åˆ ===
	"016367": "å˜‰å®å¤šåˆ©æ”¶ç›Šå€ºåˆ¸C",
	"018278": "åšæ—¶ç¨³å¥å¢åˆ©å€ºåˆ¸C",
	"014847": "åšæ—¶æ’ä¹å€ºåˆ¸C",
	"000069": "å›½æŠ•ç‘é“¶ä¸­é«˜ç­‰çº§å€ºåˆ¸A",
	"024307": "å…´ä¸šå…´å’Œç››å€ºåˆ¸C",
	"160323": "åå¤ç£æ³°æ··åˆ(LOF)A",
	"017820": "é¹åä¸°åˆ©å€ºåˆ¸(LOF)C",
	"011250": "å˜‰å®ç¨³è£•æ··åˆC",
	"710302": "å¯Œå®‰è¾¾å¢å¼ºæ”¶ç›Šå€ºåˆ¸C",
	"017763": "é“¶æ²³é¢†å…ˆå€ºåˆ¸C",
	"019594": "å˜‰å®ç¨³å®çº¯å€ºå€ºåˆ¸C",
	"009271": "åšæ—¶ä¿¡ç”¨ä¼˜é€‰å€ºåˆ¸A",
	"015727": "ä¸­æ³°åŒåˆ©å€ºåˆ¸A",
}

# ç”Ÿæˆæµ‹è¯•æ•°æ®
results = []
for code, name in FUNDS.items():
    estimation = round(random.uniform(-3, 3), 2)
    net_value = round(random.uniform(0.8, 2.5), 4)
    
    # ç”ŸæˆæŒä»“æ•°æ®
    holdings = []
    num_holdings = random.randint(5, 10)
    for i in range(num_holdings):
        holdings.append({
            "è‚¡ç¥¨åç§°": f"è‚¡ç¥¨{i+1}",
            "æŒä»“æ¯”ä¾‹": round(random.uniform(3, 15), 2),
            "è‚¡ç¥¨ä»£ç ": f"{random.randint(600000, 603999)}"
        })
    
    results.append({
        "code": code,
        "name": name,
        "estimation": estimation,
        "net_value": net_value,
        "est_value": round(net_value * (1 + estimation/100), 4),
        "update_time": datetime.now().strftime('%Y-%m-%d %H:%M:%S'),
        "data_source": "å¤©å¤©åŸºé‡‘å®æ—¶",
        "holdings": holdings,
        "success": True
    })

# ç”Ÿæˆè¾“å‡º
output = {
    "last_updated": datetime.now().strftime('%Y-%m-%d %H:%M:%S'),
    "total_count": len(results),
    "success_count": len(results),
    "funds": results
}

# ä¿å­˜åˆ°æ–‡ä»¶
with open("data/funds.json", "w", encoding="utf-8") as f:
    json.dump(output, f, ensure_ascii=False, indent=2)

print(f"âœ… å·²ç”Ÿæˆ {len(results)} åªåŸºé‡‘çš„æµ‹è¯•æ•°æ®ï¼")
print(f"ğŸ“Š æ–‡ä»¶ä¿å­˜åœ¨: data/funds.json")

